<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MK Mart - Premium Online Shopping</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

    :root {
      --primary: #6c5ce7;
      --secondary: #a29bfe;
      --accent: #fd79a8;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: #f8f9fa;
    }

    .mk-logo {
      position: relative;
      display: inline-block;
    }

    .mk-logo .logo-text {
      font-size: 1.8rem;
      font-weight: 800;
      background: linear-gradient(135deg, #ff00cc 0%, #3333ff 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: rainbow 3s ease infinite;
    }

    @keyframes rainbow {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    .nav-gradient {
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    }

    .product-card {
      transition: all 0.3s ease;
      perspective: 1000px;
    }

    .product-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .product-image-container {
      position: relative;
      overflow: hidden;
      background: #f5f5f5;
    }

    .product-image {
      transition: all 0.5s ease;
      mix-blend-mode: multiply;
    }

    .product-card:hover .product-image {
      transform: scale(1.05);
    }

    .discount-badge {
      background: linear-gradient(135deg, #ff7675 0%, #fd79a8 100%);
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    .cart-icon {
      transition: all 0.3s ease;
    }

    .cart-icon:hover {
      transform: rotate(-15deg) scale(1.1);
    }

    .nav-link {
      position: relative;
    }

    .nav-link::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: white;
      transition: width 0.3s ease;
    }

    .nav-link:hover::after {
      width: 100%;
    }

    .page-transition {
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .floating-cart-btn {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 40;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .skeleton {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }

    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }

    .loading-spinner {
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .qr-scanner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 100;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .qr-video {
      width: 80%;
      max-width: 500px;
      border: 3px solid white;
      border-radius: 8px;
    }

    .qr-result {
      color: white;
      margin-top: 20px;
      font-size: 1.2rem;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useEffect } = React;

    // Formatter for Indian Rupees
    const formatINR = (amount) => {
      return new Intl.NumberFormat('en-IN', {
        style: 'currency',
        currency: 'INR',
        maximumFractionDigits: 0
      }).format(amount);
    };

    // Sample products with realistic images
    const productsData = [
      // Electronics (12 items)
      {
        id: 1,
        name: 'Apple iPhone 15 Pro (256GB) - Titanium',
        price: 134900,
        originalPrice: 149900,
        image: 'https://m.media-amazon.com/images/I/81Os1SDWpcL._SL1500_.jpg',
        rating: 4.8,
        reviews: 18456,
        delivery: 'Free delivery by tomorrow',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 2,
        name: 'Samsung Galaxy S24 Ultra (12GB, 512GB) - Titanium Gray',
        price: 129999,
        originalPrice: 139999,
        image: 'https://m.media-amazon.com/images/I/71PvHfU+pwL._SL1500_.jpg',
        rating: 4.7,
        reviews: 10921,
        delivery: 'Free delivery by tomorrow',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 3,
        name: 'OnePlus 12 5G (16GB RAM, 512GB) - Flowy Emerald',
        price: 69999,
        originalPrice: 79999,
        image: 'https://pisces.bbystatic.com/image2/BestBuy_US/images/products/6570/6570639_sd.jpg',
        rating: 4.6,
        reviews: 8543,
        delivery: 'Free delivery in 2 days',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 4,
        name: 'Sony WH-1000XM5 Wireless Headphones',
        price: 28990,
        originalPrice: 34990,
        image: 'https://www.bhphotovideo.com/images/images2000x2000/sony_wh1000xm5_s_wh_1000xm5_noise_canceling_wireless_over_ear_1706394.jpg',
        rating: 4.8,
        reviews: 4567,
        delivery: 'Free delivery by tomorrow',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 5,
        name: 'Apple Watch Series 9 (GPS, 45mm) - Midnight',
        price: 45900,
        originalPrice: 49900,
        image: 'https://reimg-teknosa-cloud-prod.mncdn.com/mnresize/600/600/productimage/145062157/145062157_0_MC/80755083.jpg',
        rating: 4.7,
        reviews: 7890,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 6,
        name: 'Samsung Galaxy Tab S9 Ultra (16GB, 512GB) - Graphite',
        price: 109990,
        originalPrice: 119990,
        image: 'https://assets.mmsrg.com/isr/166325/c1/-/ASSET_MP_139249304/fee_786_587_png',
        rating: 4.6,
        reviews: 3421,
        delivery: 'Free delivery in 3 days',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 7,
        name: 'Bose QuietComfort Ultra Headphones',
        price: 35990,
        originalPrice: 39990,
        image: 'https://www.slickwraps.com/cdn/shop/files/Color_Pink_9ea5d912-e128-4387-bb62-2331f40ef528.jpg?v=1711883472',
        rating: 4.8,
        reviews: 2314,
        delivery: 'Free delivery by tomorrow',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 8,
        name: 'Canon EOS R6 Mark II Mirrorless Camera',
        price: 189990,
        originalPrice: 209990,
        image: 'https://images.indianexpress.com/2022/11/EOS_R6_Mark_II_1_1.jpg?w=640',
        rating: 4.7,
        reviews: 1234,
        delivery: 'Free delivery in 4 days',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 9,
        name: 'DJI Mini 4 Pro Drone with RC 2',
        price: 119990,
        originalPrice: 129990,
        image: 'https://th.bing.com/th/id/OIP.PnRFiE_x8jPCp86Zqvo-ywHaD4?w=311&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.8,
        reviews: 876,
        delivery: 'Free delivery in 5 days',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 10,
        name: 'PlayStation 5 Console (CFI-1208A01R)',
        price: 49990,
        originalPrice: 54990,
        image: 'https://th.bing.com/th/id/OIP.jDsUdIKWGp8KzjehydJYkAHaEX?w=320&h=189&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.8,
        reviews: 6543,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 11,
        name: 'Xbox Series X 1TB Console',
        price: 45990,
        originalPrice: 49990,
        image: 'https://th.bing.com/th/id/OIP.rfABh6KmG52JKouBP6GDyQHaHa?w=204&h=204&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.7,
        reviews: 5432,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'electronics'
      },
      {
        id: 12,
        name: 'Apple MacBook Air M2 (16GB, 512GB) - Midnight',
        price: 129900,
        originalPrice: 139900,
        image: 'https://tse3.mm.bing.net/th/id/OIP.DTnNTjuoTcx6dFcYNE35oQHaFs?r=0&rs=1&pid=ImgDetMain&o=7&rm=3',
        rating: 4.8,
        reviews: 7654,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'electronics'
      },
      // Fashion (12 items)
      {
        id: 13,
        name: 'Nike Air Max 270 React - White/Black',
        price: 10995,
        originalPrice: 12995,
        image: 'https://tse4.mm.bing.net/th/id/OIP.vvab0K1-p8ZA-wrnYmf03AHaIV?r=0&w=480&h=540&rs=1&pid=ImgDetMain&o=7&rm=3',
        rating: 4.4,
        reviews: 3421,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 14,
        name: 'Adidas Originals Men\'s T-Shirt (Pack of 3)',
        price: 1799,
        originalPrice: 2999,
        image: 'https://tse4.mm.bing.net/th/id/OIP.ssUOO27R6WBJZWt55-imwQHaHa?r=0&pid=ImgDet&w=191&h=191&c=7&o=7&rm=3',
        rating: 4.2,
        reviews: 5678,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 15,
        name: 'Levi\'s Men\'s 511 Slim Fit Jeans',
        price: 2499,
        originalPrice: 3499,
        image: 'https://th.bing.com/th/id/OIP.5_PGHcF7Bomlsub9mYoMGAHaHa?w=184&h=184&c=7&r=0&o=5&pid=1.7',
        rating: 4.3,
        reviews: 4321,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 16,
        name: 'Puma Men\'s Running Shoes',
        price: 2999,
        originalPrice: 3999,
        image: 'https://th.bing.com/th/id/OIP.UJ8U3IO4RsKsemkSMD9ehAHaHa?w=217&h=216&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 3210,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 17,
        name: 'Allen Solly Men\'s Formal Shirt',
        price: 1299,
        originalPrice: 1999,
        image: 'https://th.bing.com/th/id/OIP.ENUomYiWzs9xtPr_FzeSXwAAAA?w=166&h=349&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.0,
        reviews: 2109,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 18,
        name: 'Ray-Ban Unisex Sunglasses',
        price: 9999,
        originalPrice: 12999,
        image: 'https://cdn-s3.touchofmodern.com/products/001/858/465/80aacaba956556ac5adee6fcbfde22dc_large.jpg?1589825451',
        rating: 4.5,
        reviews: 1098,
        delivery: 'Free delivery by Saturday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 19,
        name: 'Fossil Men\'s Smartwatch',
        price: 12999,
        originalPrice: 14999,
        image: 'https://th.bing.com/th/id/OIP.M5WLQl-OWhLWry87JVgKEgAAAA?w=184&h=281&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 987,
        delivery: 'Free delivery by Sunday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 20,
        name: 'Tommy Hilfiger Men\'s Polo T-Shirt',
        price: 1999,
        originalPrice: 2999,
        image: 'https://th.bing.com/th/id/OIP.aeV5xPCLbzaMy_cP3srUkAHaJ3?w=184&h=245&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 876,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 21,
        name: 'Adidas Women\'s Running Shoes',
        price: 3499,
        originalPrice: 4499,
        image: 'https://m.media-amazon.com/images/I/81JQtNyqkcL._UL1500_.jpg',
        rating: 4.4,
        reviews: 765,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 22,
        name: 'Nike Women\'s Sports Bra',
        price: 1999,
        originalPrice: 2499,
        image: 'https://th.bing.com/th/id/OIP.6w_0NIAMbeglJejvt_t_KgHaHa?w=184&h=184&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 654,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 23,
        name: 'Zara Women\'s Denim Jacket',
        price: 2999,
        originalPrice: 3999,
        image: 'https://th.bing.com/th/id/OIP.s0THWwlTsrlnoJEiJeI4kwHaLH?w=184&h=276&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 543,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'fashion'
      },
      {
        id: 24,
        name: 'H&M Women\'s Summer Dress',
        price: 1499,
        originalPrice: 1999,
        image: 'https://levi.in/cdn/shop/files/0027S0002_01_Styleshot.jpg?v=1749894553',
        rating: 4.1,
        reviews: 432,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'fashion'
      },
      // Home (12 items)
      {
        id: 25,
        name: 'Milton Thermosteel Flask 1 Litre',
        price: 899,
        originalPrice: 1199,
        image: 'https://m.media-amazon.com/images/I/71SE32TZr0L._AC_UF350,350_QL50_.jpg',
        rating: 4.3,
        reviews: 5432,
        delivery: 'Free delivery by Saturday',
        inStock: true,
        category: 'home'
      },
      {
        id: 26,
        name: 'Borosil Dinner Set 35 Pieces',
        price: 2999,
        originalPrice: 3999,
        image: 'https://th.bing.com/th/id/OIP.G-gdIVUsgR9mc03bzOTNkwHaF9?w=217&h=180&c=7&r=0&o=5&pid=1.7',
        rating: 4.4,
        reviews: 4321,
        delivery: 'Free delivery by Sunday',
        inStock: true,
        category: 'home'
      },
      {
        id: 27,
        name: 'Prestige Induction Cooktop',
        price: 1999,
        originalPrice: 2499,
        image: 'https://th.bing.com/th/id/OIP.YmbdU7q8BN0uXPVxLkeq4wHaHa?w=215&h=215&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 3210,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'home'
      },
      {
        id: 28,
        name: 'Wakefit Orthopedic Memory Foam Mattress',
        price: 9999,
        originalPrice: 12999,
        image: 'https://th.bing.com/th/id/OIP.i_0GyMFbWbGKaR2ljr7hhwHaHa?w=171&h=180&c=7&r=0&o=5&pid=1.7',
        rating: 4.5,
        reviews: 2109,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'home'
      },
      {
        id: 29,
        name: 'Honeywell Air Purifier',
        price: 12999,
        originalPrice: 14999,
        image: 'https://th.bing.com/th/id/OIP.H4N0UgQt5JK7CKBtaqZcnwHaHa?w=196&h=196&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 1098,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'home'
      },
      {
        id: 30,
        name: 'Bajaj Majesty Mixer Grinder',
        price: 2490,
        originalPrice: 2999,
        image: 'https://th.bing.com/th/id/OIP.4yaFD_XxwyfjIuGwBetIEQHaFg?r=0&o=7&pid=ImgDetMain&o=7&rm=3',
        rating: 4.2,
        reviews: 987,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'home'
      },
      {
        id: 31,
        name: 'AmazonBasics 6-Sheet Paper Shredder',
        price: 1999,
        originalPrice: 2499,
        image: 'https://th.bing.com/th/id/OIP._SxIHko432xeSJ_YyE-oggHaEH?w=290&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 876,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'home'
      },
      {
        id: 32,
        name: 'Philips LED Bulb 9W (Pack of 4)',
        price: 499,
        originalPrice: 699,
        image: 'https://th.bing.com/th/id/OIP.GZGd21Bi35AExRkNvf4FrQHaEU?w=288&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.0,
        reviews: 765,
        delivery: 'Free delivery by Saturday',
        inStock: true,
        category: 'home'
      },
      {
        id: 33,
        name: 'Cello Plastic Storage Box Set',
        price: 799,
        originalPrice: 999,
        image: 'https://th.bing.com/th/id/OIP.Ip5MIaefjqBisPtnf6CXiwHaIr?w=166&h=195&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 654,
        delivery: 'Free delivery by Sunday',
        inStock: true,
        category: 'home'
      },
      {
        id: 34,
        name: 'Bajaj Flashy Iron',
        price: 699,
        originalPrice: 899,
        image: 'https://th.bing.com/th/id/OIP.IosGW_Uc5chXEN22b1ZBywHaER?w=300&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 543,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'home'
      },
      {
        id: 35,
        name: 'Pigeon Electric Kettle',
        price: 999,
        originalPrice: 1299,
        image: 'https://th.bing.com/th/id/OIP.wfEhXzW1d0O4fjkvC96XlgAAAA?w=167&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 432,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'home'
      },
      {
        id: 36,
        name: 'Wonderchef Non-Stick Cookware Set',
        price: 4999,
        originalPrice: 5999,
        image: 'https://th.bing.com/th/id/OIP.5wrYiUMCoV21Cu8pbhRCGgHaHa?w=205&h=205&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.4,
        reviews: 321,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'home'
      },
      // Beauty (12 items)
      {
        id: 37,
        name: 'Lakme Absolute Perfect Radiance Skin Lightening Day Cream',
        price: 499,
        originalPrice: 599,
        image: 'https://th.bing.com/th/id/OIP.ESVBJR_ffyyggGOsYLn_WgHaFM?w=284&h=199&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 5432,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 38,
        name: 'Maybelline New York Colossal Kajal',
        price: 199,
        originalPrice: 249,
        image: 'https://th.bing.com/th/id/OIP.klrRmX2JsXONrbKQst6eWQHaHa?w=198&h=198&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 4321,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 39,
        name: 'L\'Oreal Paris Total Repair 5 Shampoo',
        price: 299,
        originalPrice: 399,
        image: 'https://th.bing.com/th/id/OIP.Cq-JCGVoDS6TC2k9Q6ao5wHaHa?w=208&h=208&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 3210,
        delivery: 'Free delivery by Saturday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 40,
        name: 'Mamaearth Onion Hair Oil for Hair Growth',
        price: 399,
        originalPrice: 499,
        image: 'https://th.bing.com/th/id/OIP.yHLyIpoK5AIQU8L8iC9blwHaHa?w=193&h=193&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.4,
        reviews: 2109,
        delivery: 'Free delivery by Sunday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 41,
        name: 'NIVEA Men Face Wash',
        price: 199,
        originalPrice: 249,
        image: 'https://tse1.mm.bing.net/th/id/OIP.3jKPaBPkvDG-DwN2LAdc4gHaHa?r=0&rs=1&pid=ImgDetMain&o=7&rm=3',
        rating: 4.2,
        reviews: 1098,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 42,
        name: 'Garnier Skin Naturals Micellar Water',
        price: 299,
        originalPrice: 399,
        image: 'https://th.bing.com/th/id/OIP.r-p8lhsU09Z9NHRbWq2vFQHaHa?w=205&h=205&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 987,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 43,
        name: 'The Body Shop Tea Tree Oil',
        price: 599,
        originalPrice: 699,
        image: 'https://th.bing.com/th/id/OIP.sHnx7yVEopfiRao1-Zm4rwHaHa?w=174&h=180&c=7&r=0&o=5&pid=1.7',
        rating: 4.5,
        reviews: 876,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 44,
        name: 'VLCC Gold Facial Kit',
        price: 499,
        originalPrice: 599,
        image: 'https://th.bing.com/th/id/OIP.mu_TTMs2PEr73pBB1MwuwwHaEl?w=317&h=196&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 765,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 45,
        name: 'Biotique Bio Wheat Germ Shampoo',
        price: 199,
        originalPrice: 249,
        image: 'https://th.bing.com/th/id/OIP.JHLZrfLydp8FbKbE8vInNAAAAA?w=182&h=154&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.0,
        reviews: 654,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 46,
        name: 'MCaffeine Naked & Raw Coffee Face Scrub',
        price: 349,
        originalPrice: 449,
        image: 'https://th.bing.com/th/id/OIP.b7wwarWmOLpTLGBuTtWZsAHaHa?w=207&h=207&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 543,
        delivery: 'Free delivery by Saturday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 47,
        name: 'WOW Skin Science Apple Cider Vinegar Shampoo',
        price: 399,
        originalPrice: 499,
        image: 'https://th.bing.com/th/id/OIP.6S0wqTSwIlg3j_KMnYnLgQHaHa?w=192&h=192&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 432,
        delivery: 'Free delivery by Sunday',
        inStock: true,
        category: 'beauty'
      },
      {
        id: 48,
        name: 'Plum Green Tea Renewed Clarity Night Gel',
        price: 499,
        originalPrice: 599,
        image: 'https://tse2.mm.bing.net/th/id/OIP.IM88_NtgwWqt5PMr347fPAHaHZ?r=0&pid=ImgDet&w=191&h=191&c=7&o=7&rm=3',
        rating: 4.7,
        reviews: 321,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'beauty'
      },
      // Appliances (12 items)
      {
        id: 49,
        name: 'Dyson V15 Detect Absolute Vacuum Cleaner',
        price: 54900,
        originalPrice: 62900,
        image: 'https://th.bing.com/th/id/OIP.qRKpf4Tz1rbn9DVoF2oh9gHaKR?w=115&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.6,
        reviews: 2345,
        delivery: 'Free delivery in 3 days',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 50,
        name: 'Philips Air Fryer HD9252/90 (4.1L)',
        price: 7995,
        originalPrice: 9995,
        image: 'https://th.bing.com/th/id/OIP.ryjevFPldAu7HkCTGQb91AAAAA?w=179&h=180&c=7&r=0&o=5&pid=1.7',
        rating: 4.3,
        reviews: 6789,
        delivery: 'Free delivery by Monday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 51,
        name: 'LG 7 kg 5 Star Inverter Fully-Automatic Front Load Washing Machine',
        price: 32990,
        originalPrice: 36990,
        image: 'https://th.bing.com/th/id/OIP.CBra4hxEv3dH6MT_B60FvgAAAA?w=163&h=180&c=7&r=0&o=5&pid=1.7',
        rating: 4.5,
        reviews: 5432,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 52,
        name: 'Samsung 253 L 3 Star Frost-Free Double Door Refrigerator',
        price: 27990,
        originalPrice: 30990,
        image: 'https://th.bing.com/th/id/OIP.Xv0Znw76_tN2AKceV-yKDgHaE8?w=255&h=180&c=7&r=0&o=5&pid=1.7',
        rating: 4.4,
        reviews: 4321,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 53,
        name: 'Whirlpool 7 kg 5 Star Royal Fully-Automatic Top Load Washing Machine',
        price: 18990,
        originalPrice: 20990,
        image: 'https://th.bing.com/th/id/OIP.RtAw4mag2mBMl37SJ-hUrgHaNc?w=115&h=206&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 3210,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 54,
        name: 'Voltas 1.5 Ton 3 Star Split AC',
        price: 34990,
        originalPrice: 37990,
        image: 'https://th.bing.com/th/id/OIP.sqxKeff66kri2Jy0KzQ8rQHaEw?w=255&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.2,
        reviews: 2109,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 55,
        name: 'Havells 23 L Convection Microwave Oven',
        price: 9990,
        originalPrice: 10990,
        image: 'https://th.bing.com/th/id/OIP.AAmY4awplX50_HPd1D5PvQHaHa?w=206&h=206&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 1098,
        delivery: 'Free delivery by Saturday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 56,
        name: 'Eureka Forbes Aquasure Smart Plus RO+UV+UF Water Purifier',
        price: 14990,
        originalPrice: 16990,
        image: 'https://th.bing.com/th/id/OIP.UdpURlZTUH1ncFnd5cr2fwHaHT?w=216&h=213&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.4,
        reviews: 987,
        delivery: 'Free delivery by Sunday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 57,
        name: 'Kent Grand Plus 8 L RO+UV+UF Water Purifier',
        price: 17990,
        originalPrice: 19990,
        image: 'https://tse3.mm.bing.net/th/id/OIP.pxyOEV0s80IsGneG2sz9hAHaHa?r=0&pid=ImgDet&w=191&h=191&c=7&o=7&rm=3',
        rating: 4.3,
        reviews: 876,
        delivery: 'Free delivery by Friday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 58,
        name: 'Bajaj Majesty JX4 750W Juicer Mixer Grinder',
        price: 2990,
        originalPrice: 3490,
        image: 'https://m.media-amazon.com/images/I/71+T06znxRL._AC.jpg',
        rating: 4.2,
        reviews: 765,
        delivery: 'Free delivery by Tuesday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 59,
        name: 'Pigeon by Stovekraft Amaze Plus Electric Kettle',
        price: 1095,
        originalPrice: 1295,
        image: 'https://th.bing.com/th/id/OIP.9eEOSxl30k_ABjZJUYFiYwHaEl?w=283&h=180&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.1,
        reviews: 654,
        delivery: 'Free delivery by Wednesday',
        inStock: true,
        category: 'appliances'
      },
      {
        id: 60,
        name: 'Butterfly Smart Glass 3 Burner Gas Stove',
        price: 3990,
        originalPrice: 4490,
        image: 'https://th.bing.com/th/id/OIP.NKcUMTKiAhJJ5eYBueMmRgHaCD?w=339&h=97&c=7&r=0&o=7&pid=1.7&rm=3',
        rating: 4.3,
        reviews: 543,
        delivery: 'Free delivery by Thursday',
        inStock: true,
        category: 'appliances'
      }
    ];

    // Categories
    const categories = [
      { id: 'electronics', name: 'Electronics', icon: '📱' },
      { id: 'fashion', name: 'Fashion', icon: '👕' },
      { id: 'home', name: 'Home', icon: '🏠' },
      { id: 'beauty', name: 'Beauty', icon: '💄' },
      { id: 'appliances', name: 'Appliances', icon: '🔌' }
    ];

    const PAGES = {
      HOME: 'home',
      PRODUCTS: 'products',
      CART: 'cart',
      CHECKOUT: 'checkout',
      PROFILE: 'profile',
      CUSTOMER_CARE: 'customer_care'
    };

    // Image preloader component
    function ImagePreloader({ src, alt, className, onLoad, onError }) {
      const [loaded, setLoaded] = React.useState(false);
      const [error, setError] = React.useState(false);

      React.useEffect(() => {
        const img = new Image();
        img.src = src;
        img.onload = () => {
          setLoaded(true);
          if (onLoad) onLoad();
        };
        img.onerror = () => {
          setError(true);
          if (onError) onError();
        };
      }, [src, onLoad, onError]);

      if (error) {
        return (
          <div className={`${className} bg-gray-200 flex items-center justify-center`}>
            <i className="fas fa-image text-gray-400 text-2xl"></i>
          </div>
        );
      }

      if (!loaded) {
        return <div className={`${className} skeleton`}></div>;
      }

      return <img src={src} alt={alt} className={className} />;
    }

    function App() {
      const [cart, setCart] = React.useState([]);
      const [currentPage, setCurrentPage] = React.useState(PAGES.HOME);
      const [searchQuery, setSearchQuery] = React.useState('');
      const [activeCategory, setActiveCategory] = React.useState(null);
      const [isMenuOpen, setIsMenuOpen] = React.useState(false);
      const [isScrolled, setIsScrolled] = React.useState(false);
      const [selectedProduct, setSelectedProduct] = React.useState(null);
      const [isLoading, setIsLoading] = React.useState(false);
      const [showQRScanner, setShowQRScanner] = React.useState(false);
      const [qrResult, setQrResult] = React.useState('');

      // Scroll effect
      useEffect(() => {
        const handleScroll = () => {
          setIsScrolled(window.scrollY > 10);
        };
        window.addEventListener('scroll', handleScroll);
        return () => window.removeEventListener('scroll', handleScroll);
      }, []);

      // Cart functions
      const addToCart = (product) => {
        const existing = cart.find(item => item.id === product.id);
        if (existing) {
          setCart(cart.map(item => item.id === product.id ? {...item, quantity: item.quantity + 1} : item));
        } else {
          setCart([...cart, {...product, quantity: 1}]);
        }
        showNotification(`${product.name} added to cart!`);
      };

      const removeFromCart = (productId) => {
        setCart(cart.filter(item => item.id !== productId));
        showNotification('Item removed from cart');
      };

      const updateQuantity = (productId, newQty) => {
        if (newQty < 1) return;
        setCart(cart.map(item => item.id === productId ? {...item, quantity: newQty} : item));
      };

      const getTotalItems = () => cart.reduce((sum, item) => sum + item.quantity, 0);
      const getTotalPrice = () => cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      const getTotalDiscount = () => cart.reduce((sum, item) => sum + (item.originalPrice - item.price) * item.quantity, 0);

      const showNotification = (message) => {
        const notif = document.createElement('div');
        notif.className = 'fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg animate__animated animate__fadeInUp animate__faster';
        notif.innerText = message;
        document.body.appendChild(notif);
        setTimeout(() => {
          notif.classList.add('animate__fadeOutDown');
          setTimeout(() => notif.remove(), 500);
        }, 2000);
      };

      // Filter products based on search and category
      const filteredProducts = productsData.filter(p => {
        const matchesSearch = p.name.toLowerCase().includes(searchQuery.toLowerCase());
        const matchesCategory = activeCategory ? p.category === activeCategory : true;
        return matchesSearch && matchesCategory;
      });

      // Load simulation
      useEffect(() => {
        if (currentPage === PAGES.PRODUCTS || currentPage === PAGES.HOME) {
          setIsLoading(true);
          const timer = setTimeout(() => setIsLoading(false), 800);
          return () => clearTimeout(timer);
        }
      }, [currentPage, activeCategory, searchQuery]);

      // QR code scan simulation
      const handleQRScan = () => {
        setShowQRScanner(true);
        setTimeout(() => {
          setQrResult('Product scanned: Apple iPhone 15 Pro (256GB) - Titanium');
          setTimeout(() => {
            setShowQRScanner(false);
            setQrResult('');
            const product = productsData.find(p => p.id === 1);
            if (product) {
              setSelectedProduct(product);
            }
          }, 3000);
        }, 2000);
      };

      // Page rendering
      const renderPage = () => {
        switch (currentPage) {
          case PAGES.PRODUCTS:
            return <ProductsPage 
              products={filteredProducts} 
              addToCart={addToCart} 
              activeCategory={activeCategory}
              setActiveCategory={setActiveCategory}
              selectProduct={setSelectedProduct}
              isLoading={isLoading}
            />;
          case PAGES.CART:
            return <CartPage 
              cart={cart}
              removeFromCart={removeFromCart}
              updateQuantity={updateQuantity}
              getTotalItems={getTotalItems}
              getTotalPrice={getTotalPrice}
              getTotalDiscount={getTotalDiscount}
              proceedToCheckout={() => setCurrentPage(PAGES.CHECKOUT)}
            />;
          case PAGES.CHECKOUT:
            return <CheckoutPage 
              cart={cart}
              getTotalPrice={getTotalPrice}
              backToCart={() => setCurrentPage(PAGES.CART)}
              placeOrder={() => {
                setCart([]);
                showNotification('Order placed successfully!');
                setCurrentPage(PAGES.HOME);
              }}
            />;
          case PAGES.PROFILE:
            return <ProfilePage />;
          case PAGES.CUSTOMER_CARE:
            return <CustomerCarePage />;
          case PAGES.HOME:
          default:
            return <HomePage 
              products={productsData.slice(0,12)} 
              addToCart={addToCart}
              navigateToProducts={() => setCurrentPage(PAGES.PRODUCTS)}
              isLoading={isLoading}
            />;
        }
      };

      // Product detail modal
      const renderProductDetail = () => {
        if (!selectedProduct) return null;
        return (
          <div className="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
            <div className="bg-white rounded-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto animate__animated animate__zoomIn">
              <div className="p-4 flex justify-between items-center border-b">
                <h2 className="text-xl font-bold">{selectedProduct.name}</h2>
                <button onClick={() => setSelectedProduct(null)} className="text-gray-500 hover:text-gray-700">✕</button>
              </div>
              <div className="p-6 grid md:grid-cols-2 gap-8">
                <div className="flex justify-center">
                  <ImagePreloader src={selectedProduct.image} alt={selectedProduct.name} className="max-h-80 object-contain" />
                </div>
                <div>
                  <div className="flex items-center mb-4">
                    <div className="bg-yellow-100 text-yellow-800 px-2 py-1 rounded flex items-center mr-3">
                      <span className="font-bold mr-1">{selectedProduct.rating}</span>
                      <i className="fas fa-star text-sm"></i>
                    </div>
                    <span className="text-gray-500">{selectedProduct.reviews.toLocaleString()} ratings</span>
                  </div>
                  <div className="mb-4">
                    <span className="text-2xl font-bold">{formatINR(selectedProduct.price)}</span>
                    <span className="text-gray-500 line-through ml-2">{formatINR(selectedProduct.originalPrice)}</span>
                    <span className="text-green-600 ml-2">{Math.round((selectedProduct.originalPrice - selectedProduct.price) / selectedProduct.originalPrice * 100)}% off</span>
                  </div>
                  <div className="mb-6">
                    <h3 className="font-bold mb-2">Available offers</h3>
                    <ul className="text-sm space-y-2">
                      <li className="flex items-start"><i className="fas fa-tag text-green-600 mt-1 mr-2"></i><span>Bank Offer: 5% Cashback on Axis Bank Card</span></li>
                      <li className="flex items-start"><i className="fas fa-tag text-green-600 mt-1 mr-2"></i><span>Special Price: Get extra 5% off (price inclusive of discount)</span></li>
                      <li className="flex items-start"><i className="fas fa-tag text-green-600 mt-1 mr-2"></i><span>Partner Offer: Sign up for Pay Later and get Gift Card worth ₹100</span></li>
                    </ul>
                  </div>
                  <div className="mb-6">
                    <h3 className="font-bold mb-2">Delivery</h3>
                    <div className="flex items-center"><i className="fas fa-truck text-gray-500 mr-2"></i><span>{selectedProduct.delivery}</span></div>
                  </div>
                  <button
                    onClick={() => {
                      addToCart(selectedProduct);
                      setSelectedProduct(null);
                    }}
                    disabled={!selectedProduct.inStock}
                    className={`w-full py-3 rounded-lg font-medium transition-colors ${selectedProduct.inStock ? 'bg-purple-600 text-white hover:bg-purple-700' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}
                  >
                    {selectedProduct.inStock ? 'Add to Cart' : 'Out of Stock'}
                  </button>
                </div>
              </div>
            </div>
          </div>
        );
      };

      // QR Scanner modal
      const renderQRScanner = () => {
        if (!showQRScanner) return null;
        return (
          <div className="qr-scanner">
            <h2 className="text-white text-2xl mb-4">Scan Product QR Code</h2>
            <div className="qr-video">
              <div className="bg-black w-full h-64 flex items-center justify-center">
                <i className="fas fa-qrcode text-white text-6xl animate-pulse"></i>
              </div>
            </div>
            {qrResult && (<div className="qr-result"><p>{qrResult}</p></div>)}
            <button onClick={() => setShowQRScanner(false)} className="mt-6 bg-red-500 text-white px-6 py-2 rounded-lg hover:bg-red-600 transition-colors">Cancel Scan</button>
          </div>
        );
      };

      return (
        <div className="min-h-screen flex flex-col">
          {/* Navbar */}
          <header className={`w-full z-50 transition-all duration-300 ${isScrolled ? 'shadow-lg' : ''}`}>
            {/* Top Bar */}
            <div className="nav-gradient text-white">
              <div className="container mx-auto px-4 py-3 flex justify-between items-center">
                {/* Logo & Hamburger */}
                <div className="flex items-center space-x-4">
                  <button onClick={() => setIsMenuOpen(!isMenuOpen)} className="md:hidden text-white text-xl">☰</button>
                  <div className="mk-logo cursor-pointer" onClick={() => setCurrentPage(PAGES.HOME)} title="MK Mart">
                    <span className="logo-text">MK Mart</span>
                  </div>
                </div>
                {/* Desktop Search */}
                <div className="hidden md:flex flex-1 mx-8">
                  <div className="relative w-full max-w-xl">
                    <input
                      type="text"
                      placeholder="Search for products, brands and more..."
                      className="w-full py-2 px-4 text-gray-800 rounded-l-full focus:outline-none"
                      value={searchQuery}
                      onChange={(e) => setSearchQuery(e.target.value)}
                      onKeyDown={(e) => { if (e.key === 'Enter') { setCurrentPage(PAGES.PRODUCTS); } }}
                    />
                    <button
                      className="absolute right-0 top-0 h-full px-4 bg-yellow-400 text-gray-800 rounded-r-full hover:bg-yellow-500 transition-colors"
                      onClick={() => setCurrentPage(PAGES.PRODUCTS)}
                    >
                      <i className="fas fa-search"></i>
                    </button>
                  </div>
                </div>
                {/* Desktop Nav Links */}
                <div className="hidden md:flex items-center space-x-6">
                  <button className="nav-link flex items-center" onClick={() => setCurrentPage(PAGES.HOME)}><i className="fas fa-home mr-2"></i>Home</button>
                  <button className="nav-link flex items-center" onClick={() => setCurrentPage(PAGES.PRODUCTS)}><i className="fas fa-th-large mr-2"></i>Products</button>
                  <button className="nav-link flex items-center" onClick={() => setCurrentPage(PAGES.CUSTOMER_CARE)}><i className="fas fa-headset mr-2"></i>Customer Care</button>
                  <button className="nav-link flex items-center" onClick={() => setCurrentPage(PAGES.PROFILE)}><i className="fas fa-user mr-2"></i>Account</button>
                  <button className="nav-link flex items-center relative" onClick={() => setCurrentPage(PAGES.CART)}>
                    <i className="fas fa-shopping-cart cart-icon mr-2"></i>Cart
                    {getTotalItems() > 0 && (
                      <span className="absolute -top-2 -right-2 bg-yellow-400 text-black text-xs rounded-full h-5 w-5 flex items-center justify-center animate__animated animate__bounceIn">{getTotalItems()}</span>
                    )}
                  </button>
                </div>
                {/* Mobile buttons */}
                <div className="flex md:hidden items-center space-x-4">
                  <button className="text-white" onClick={() => { setSearchQuery(''); setCurrentPage(PAGES.PRODUCTS); }}><i className="fas fa-search"></i></button>
                  <button className="relative" onClick={() => setCurrentPage(PAGES.CART)}>
                    <i className="fas fa-shopping-cart cart-icon"></i>
                    {getTotalItems() > 0 && (
                      <span className="absolute -top-1 -right-1 bg-yellow-400 text-black text-xs rounded-full h-4 w-4 flex items-center justify-center">{getTotalItems()}</span>
                    )}
                  </button>
                </div>
              </div>
            </div>
          </header>

          {/* Mobile Menu Overlay */}
          {isMenuOpen && (
            <div className="fixed inset-0 bg-black bg-opacity-50 z-50 md:hidden" onClick={() => setIsMenuOpen(false)}>
              <div className="bg-white h-full w-4/5 max-w-sm animate__animated animate__slideInLeft" onClick={(e) => e.stopPropagation()}>
                <div className="p-4 border-b flex justify-between items-center">
                  <div className="mk-logo text-2xl"><span className="logo-text">MK Mart</span></div>
                  <button onClick={() => setIsMenuOpen(false)} className="text-gray-500 hover:text-gray-700">✕</button>
                </div>
                <div className="p-4 space-y-4">
                  <button className="w-full text-left py-3 px-4 hover:bg-gray-100 rounded-lg flex items-center" onClick={() => { setCurrentPage(PAGES.HOME); setIsMenuOpen(false); }}><i className="fas fa-home mr-3 text-purple-600"></i>Home</button>
                  <button className="w-full text-left py-3 px-4 hover:bg-gray-100 rounded-lg flex items-center" onClick={() => { setCurrentPage(PAGES.PRODUCTS); setIsMenuOpen(false); }}><i className="fas fa-th-large mr-3 text-purple-600"></i>Products</button>
                  <button className="w-full text-left py-3 px-4 hover:bg-gray-100 rounded-lg flex items-center" onClick={() => { setCurrentPage(PAGES.CUSTOMER_CARE); setIsMenuOpen(false); }}><i className="fas fa-headset mr-3 text-purple-600"></i>Customer Care</button>
                  <button className="w-full text-left py-3 px-4 hover:bg-gray-100 rounded-lg flex items-center" onClick={() => { setCurrentPage(PAGES.PROFILE); setIsMenuOpen(false); }}><i className="fas fa-user mr-3 text-purple-600"></i>My Account</button>
                  <button className="w-full text-left py-3 px-4 hover:bg-gray-100 rounded-lg flex items-center" onClick={() => { setCurrentPage(PAGES.CART); setIsMenuOpen(false); }}><i className="fas fa-shopping-cart mr-3 text-purple-600"></i>My Cart ({getTotalItems()})</button>
                  <button className="w-full text-left py-3 px-4 hover:bg-gray-100 rounded-lg flex items-center" onClick={() => { handleQRScan(); setIsMenuOpen(false); }}><i className="fas fa-qrcode mr-3 text-purple-600"></i>Scan Product</button>
                </div>
              </div>
            </div>
          )}

          {/* Main Content */}
          <main className="flex-1 pt-24 pb-12">
            <div className="container mx-auto px-4 page-transition">
              {renderPage()}
            </div>
          </main>

          {/* Floating Buttons for Mobile */}
          <div className="fixed bottom-4 right-4 z-40 flex flex-col items-end space-y-3">
            {getTotalItems() > 0 && (
              <button className="md:hidden floating-cart-btn bg-purple-600 text-white p-4 rounded-full shadow-lg hover:bg-purple-700 transition-colors" onClick={() => setCurrentPage(PAGES.CART)}>
                <div className="relative">
                  <i className="fas fa-shopping-cart text-xl"></i>
                  <span className="absolute -top-2 -right-2 bg-yellow-400 text-black text-xs rounded-full h-5 w-5 flex items-center justify-center">{getTotalItems()}</span>
                </div>
              </button>
            )}
            <button className="md:hidden bg-blue-500 text-white p-4 rounded-full shadow-lg hover:bg-blue-600 transition-colors" onClick={handleQRScan}><i className="fas fa-qrcode text-xl"></i></button>
          </div>

          {/* Footer */}
          <footer className="bg-gray-900 text-white py-8">
            <div className="container mx-auto px-4">
              <div className="grid grid-cols-1 md:grid-cols-4 gap-8">
                <div>
                  <div className="mk-logo text-2xl mb-4"><span className="logo-text">MK Mart</span></div>
                  <p className="text-gray-400">India's most loved shopping destination with best prices.</p>
                  <div className="flex space-x-4 mt-4">
                    <a href="#" className="text-gray-400 hover:text-white transition-colors"><i className="fab fa-facebook-f"></i></a>
                    <a href="#" className="text-gray-400 hover:text-white transition-colors"><i className="fab fa-twitter"></i></a>
                    <a href="#" className="text-gray-400 hover:text-white transition-colors"><i className="fab fa-instagram"></i></a>
                    <a href="#" className="text-gray-400 hover:text-white transition-colors"><i className="fab fa-youtube"></i></a>
                  </div>
                </div>
                <div>
                  <h4 className="font-bold mb-4">Shop</h4>
                  <ul className="space-y-2 text-gray-400">
                    <li><button onClick={() => { setCurrentPage(PAGES.PRODUCTS); setActiveCategory(null); }} className="hover:text-white transition-colors">All Products</button></li>
                    <li><button onClick={() => { setCurrentPage(PAGES.PRODUCTS); setActiveCategory('electronics'); }} className="hover:text-white transition-colors">Electronics</button></li>
                    <li><button onClick={() => { setCurrentPage(PAGES.PRODUCTS); setActiveCategory('fashion'); }} className="hover:text-white transition-colors">Fashion</button></li>
                    <li><button onClick={() => { setCurrentPage(PAGES.PRODUCTS); setActiveCategory('home'); }} className="hover:text-white transition-colors">Home</button></li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-bold mb-4">Help</h4>
                  <ul className="space-y-2 text-gray-400">
                    <li><button onClick={() => setCurrentPage(PAGES.CUSTOMER_CARE)} className="hover:text-white transition-colors">Customer Service</button></li>
                    <li><button className="hover:text-white transition-colors">Track Order</button></li>
                    <li><button className="hover:text-white transition-colors">Returns & Refunds</button></li>
                    <li><button className="hover:text-white transition-colors">FAQs</button></li>
                  </ul>
                </div>
                <div>
                  <h4 className="font-bold mb-4">Contact</h4>
                  <ul className="space-y-2 text-gray-400">
                    <li className="flex items-center"><i className="fas fa-envelope mr-2"></i>support@mkmart.com</li>
                    <li className="flex items-center"><i className="fas fa-phone mr-2"></i>+91 9876543210</li>
                    <li className="flex items-center"><i className="fas fa-map-marker-alt mr-2"></i>Mumbai, India</li>
                    <li className="flex items-center mt-4">
                      <button onClick={handleQRScan} className="flex items-center text-purple-400 hover:text-purple-300"><i className="fas fa-qrcode mr-2"></i>Scan Product QR Code</button>
                    </li>
                  </ul>
                </div>
              </div>
              <div className="border-t border-gray-800 mt-8 pt-6 text-center text-gray-400">
                © 2023 MK Mart. All rights reserved. | Developed by Kishore Medidha
              </div>
            </div>
          </footer>

          {/* Product Detail Modal */}
          {renderProductDetail()}

          {/* QR Scanner Modal */}
          {renderQRScanner()}
        </div>
      );
    }

    // Home Page
    function HomePage({ products, addToCart, navigateToProducts, isLoading }) {
      return (
        <>
          {/* Hero Banner */}
          <div className="relative bg-gradient-to-r from-purple-600 to-pink-500 rounded-xl p-8 text-white mb-12 overflow-hidden">
            <div className="relative z-10 max-w-xl">
              <h2 className="text-4xl font-bold mb-4 animate__animated animate__fadeInDown">Summer Sale is Live!</h2>
              <p className="text-xl mb-6 animate__animated animate__fadeInDown animate__delay-1s">Up to 60% off on premium brands</p>
              <button onClick={navigateToProducts} className="bg-white text-purple-600 px-8 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors animate__animated animate__fadeInUp animate__delay-2s">
                Shop Now <i className="fas fa-arrow-right ml-2"></i>
              </button>
            </div>
            <div className="absolute right-0 bottom-0 opacity-20 md:opacity-100">
              <img src="https://cdn-icons-png.flaticon.com/512/869/869869.png" alt="Shopping" className="h-64 animate__animated animate__pulse animate__infinite" loading="lazy"/>
            </div>
          </div>

          {/* Categories */}
          <div className="mb-12">
            <h2 className="text-2xl font-bold mb-6">Shop by Category</h2>
            <div className="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-7 gap-4">
              {categories.map((cat, index) => (
                <div
                  key={cat.id}
                  className="bg-white p-4 rounded-lg shadow-sm text-center cursor-pointer hover:shadow-md transition-all animate__animated animate__fadeIn"
                  style={{ animationDelay: `${index * 0.1}s` }}
                  onClick={() => {
                    setActiveCategory(cat.id);
                    setCurrentPage(PAGES.PRODUCTS);
                  }}
                >
                  <div className="text-4xl mb-3">{cat.icon}</div>
                  <h3 className="text-sm font-medium">{cat.name}</h3>
                </div>
              ))}
            </div>
          </div>

          {/* Featured Products */}
          <div>
            <div className="flex justify-between items-center mb-6">
              <h2 className="text-2xl font-bold">Featured Products</h2>
              <button onClick={() => { setCurrentPage(PAGES.PRODUCTS); setActiveCategory(null); }} className="text-purple-600 font-medium flex items-center">
                View All <i className="fas fa-chevron-right ml-1"></i>
              </button>
            </div>
            {isLoading ? (
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                {[...Array(4)].map((_, index) => (
                  <div key={index} className="product-card bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                    <div className="product-image-container h-48 mb-4 skeleton"></div>
                    <div className="h-4 skeleton w-3/4 mb-2"></div>
                    <div className="h-4 skeleton w-1/2 mb-4"></div>
                    <div className="h-10 skeleton rounded-lg"></div>
                  </div>
                ))}
              </div>
            ) : (
              <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                {products.map(product => (
                  <div key={product.id} className="product-card bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative">
                    <div className="product-image-container h-48 overflow-hidden mb-4 flex items-center justify-center cursor-pointer" onClick={() => setSelectedProduct(product)}>
                      <ImagePreloader src={product.image} alt={product.name} className="max-h-full object-contain" />
                    </div>
                    {!product.inStock && (
                      <div className="absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded">Out of Stock</div>
                    )}
                    <div className="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded">
                      {Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)}% OFF
                    </div>
                    <h3 className="font-medium mb-2 line-clamp-2">{product.name}</h3>
                    <div className="flex items-center mb-1">
                      <span className="text-lg font-bold">{formatINR(product.price)}</span>
                      <span className="text-sm text-gray-500 ml-2 line-through">{formatINR(product.originalPrice)}</span>
                    </div>
                    <div className="flex items-center text-sm text-gray-500 mb-3">
                      <span className="bg-blue-50 text-blue-700 px-1 rounded mr-1">{product.rating} ★</span>
                      <span>({product.reviews.toLocaleString()})</span>
                    </div>
                    <div className="text-sm text-green-600 mb-4">{product.delivery}</div>
                    <button
                      onClick={() => addToCart(product)}
                      disabled={!product.inStock}
                      className={`w-full py-2 rounded-lg font-medium transition-colors ${product.inStock ? 'bg-purple-600 text-white hover:bg-purple-700' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}
                    >
                      {product.inStock ? 'Add to Cart' : 'Out of Stock'}
                    </button>
                  </div>
                ))}
              </div>
            )}
          </div>
        </>
      );
    }

    // Products Page
    function ProductsPage({ products, addToCart, activeCategory, setActiveCategory, selectProduct, isLoading }) {
      return (
        <>
          {/* Category Filter */}
          <div className="bg-white p-4 rounded-lg shadow-sm mb-6 sticky top-20 z-10">
            <div className="flex overflow-x-auto space-x-4">
              <button
                onClick={() => { setActiveCategory(null); }}
                className={`px-4 py-2 rounded-full whitespace-nowrap ${!activeCategory ? 'bg-purple-600 text-white' : 'bg-gray-100 text-gray-800'}`}
              >
                All Categories
              </button>
              {categories.map((cat) => (
                <button
                  key={cat.id}
                  onClick={() => { setActiveCategory(cat.id); }}
                  className={`px-4 py-2 rounded-full whitespace-nowrap ${activeCategory === cat.id ? 'bg-purple-600 text-white' : 'bg-gray-100 text-gray-800'}`}
                >
                  {cat.name}
                </button>
              ))}
            </div>
          </div>

          {/* Product Grid */}
          {isLoading ? (
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
              {[...Array(8)].map((_, index) => (
                <div key={index} className="product-card bg-white p-4 rounded-xl shadow-sm border border-gray-100">
                  <div className="product-image-container h-48 mb-4 skeleton"></div>
                  <div className="h-4 skeleton w-3/4 mb-2"></div>
                  <div className="h-4 skeleton w-1/2 mb-4"></div>
                  <div className="h-10 skeleton rounded-lg"></div>
                </div>
              ))}
            </div>
          ) : (
            <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
              {products.map((product) => (
                <div key={product.id} className="bg-white p-4 rounded-xl shadow-sm border border-gray-100 relative">
                  <div className="h-48 overflow-hidden mb-4 flex items-center justify-center cursor-pointer" onClick={() => selectProduct(product)}>
                    <img src={product.image} alt={product.name} className="max-h-full object-contain" />
                  </div>
                  {!product.inStock && (
                    <div className="absolute top-2 left-2 bg-red-500 text-white text-xs px-2 py-1 rounded">Out of Stock</div>
                  )}
                  <div className="absolute top-2 right-2 bg-green-500 text-white text-xs px-2 py-1 rounded">
                    {Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)}% OFF
                  </div>
                  <h3 className="font-medium mb-2 line-clamp-2">{product.name}</h3>
                  <div className="flex items-center mb-1">
                    <span className="text-lg font-bold">{formatINR(product.price)}</span>
                    <span className="text-sm text-gray-500 ml-2 line-through">{formatINR(product.originalPrice)}</span>
                  </div>
                  <div className="flex items-center text-sm text-gray-500 mb-3">
                    <span className="bg-blue-50 text-blue-700 px-1 rounded mr-1">{product.rating} ★</span>
                    <span>({product.reviews.toLocaleString()})</span>
                  </div>
                  <div className="text-sm text-green-600 mb-4">{product.delivery}</div>
                  <button
                    onClick={() => addToCart(product)}
                    disabled={!product.inStock}
                    className={`w-full py-2 rounded-lg font-medium transition-colors ${product.inStock ? 'bg-purple-600 text-white hover:bg-purple-700' : 'bg-gray-200 text-gray-500 cursor-not-allowed'}`}
                  >
                    {product.inStock ? 'Add to Cart' : 'Out of Stock'}
                  </button>
                </div>
              ))}
            </div>
          )}
        </>
      );
    }

    // Cart Page
    function CartPage({ cart, removeFromCart, updateQuantity, getTotalItems, getTotalPrice, getTotalDiscount, proceedToCheckout }) {
      return (
        <div>
          <h2 className="text-2xl font-bold mb-4">My Cart</h2>
          {cart.length === 0 ? (
            <p className="text-gray-600">Your cart is empty.</p>
          ) : (
            <>
              <div className="space-y-4 mb-6">
                {cart.map(item => (
                  <div key={item.id} className="bg-white p-4 rounded-xl shadow-sm flex items-center justify-between relative">
                    <div className="flex items-center space-x-4">
                      <div className="w-20 h-20 flex-shrink-0 overflow-hidden rounded-lg">
                        <img src={item.image} alt={item.name} className="w-full h-full object-contain" />
                      </div>
                      <div>
                        <h3 className="font-medium mb-1 line-clamp-2">{item.name}</h3>
                        <div className="flex items-center space-x-2">
                          <button onClick={() => updateQuantity(item.id, item.quantity - 1)} className="p-1 bg-gray-200 rounded"><i className="fas fa-minus"></i></button>
                          <span className="px-2">{item.quantity}</span>
                          <button onClick={() => updateQuantity(item.id, item.quantity + 1)} className="p-1 bg-gray-200 rounded"><i className="fas fa-plus"></i></button>
                        </div>
                        <p className="mt-2 font-semibold">{formatINR(item.price * item.quantity)}</p>
                      </div>
                    </div>
                    <button onClick={() => removeFromCart(item.id)} className="absolute top-2 right-2 text-gray-500 hover:text-gray-700"><i className="fas fa-trash"></i></button>
                  </div>
                ))}
              </div>
              <div className="border-t pt-4 space-y-4">
                <div className="flex justify-between">
                  <span>Total Items</span>
                  <span>{getTotalItems()}</span>
                </div>
                <div className="flex justify-between">
                  <span>Total Price</span>
                  <span>{formatINR(getTotalPrice())}</span>
                </div>
                <div className="flex justify-between">
                  <span>Discount</span>
                  <span className="text-green-600">{formatINR(getTotalDiscount())}</span>
                </div>
                <div className="flex justify-between font-bold text-xl">
                  <span>Grand Total</span>
                  <span>{formatINR(getTotalPrice() - getTotalDiscount())}</span>
                </div>
                <button
                  onClick={proceedToCheckout}
                  className="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors"
                >
                  Proceed to Checkout
                </button>
              </div>
            </>
          )}
        </div>
      );
    }

    // Checkout Page
    function CheckoutPage({ cart, getTotalPrice, backToCart, placeOrder }) {
      return (
        <div>
          <h2 className="text-2xl font-bold mb-4">Checkout</h2>
          {cart.length === 0 ? (
            <p className="text-gray-600">Your cart is empty.</p>
          ) : (
            <>
              {/* Placeholder for checkout form */}
              <div className="mb-4">
                <p className="mb-2">Total Amount: {formatINR(getTotalPrice())}</p>
                {/* Additional form fields can be added here */}
              </div>
              <div className="flex space-x-4">
                <button onClick={backToCart} className="w-full bg-gray-300 py-3 rounded-lg hover:bg-gray-400 transition-colors">Back to Cart</button>
                <button onClick={placeOrder} className="w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors">Place Order</button>
              </div>
            </>
          )}
        </div>
      );
    }

    // Profile Page
    function ProfilePage() {
      return (
        <div>
          <h2 className="text-2xl font-bold mb-4">My Profile</h2>
          <p className="text-gray-600">Profile details will go here.</p>
        </div>
      );
    }

    // Customer Care Page
    function CustomerCarePage() {
      return (
        <div>
          <h2 className="text-2xl font-bold mb-4">Customer Care</h2>
          <p className="text-gray-600">Customer care information will go here.</p>
        </div>
      );
    }

    // Main rendering
    ReactDOM.render(<App />, document.getElementById('root'));
  </script>
</body>
</html>
